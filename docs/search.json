[{"path":"https://obianalysts-umich.github.io/obstinit/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 obstinit authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Thea B. Author, maintainer. Xilin Chen. Author.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"B T, Chen X (2023). obstinit: OBI Internal Tool Package. R package version 0.0.0.9000, https://obianalysts-umich.github.io/obstinit/.","code":"@Manual{,   title = {obstinit: OBI Internal Tool Package},   author = {Thea B and Xilin Chen},   year = {2023},   note = {R package version 0.0.0.9000},   url = {https://obianalysts-umich.github.io/obstinit/}, }"},{"path":[]},{"path":"https://obianalysts-umich.github.io/obstinit/index.html","id":"background","dir":"","previous_headings":"","what":"Background","title":"OBI Internal Tool Package","text":"Obstinit OBI “tools” package, meant provide series tools regularly use data processing visualization save time used repetitive coding tasks.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"OBI Internal Tool Package","text":"Install development version directly GitHub:","code":"# install.packages(\"devtools\") devtools::install_github(\"obianalysts-umich/obstinit\")"},{"path":[]},{"path":"https://obianalysts-umich.github.io/obstinit/index.html","id":"reading-data","dir":"","previous_headings":"Functions","what":"Reading data","title":"OBI Internal Tool Package","text":"read_current_data() reads recent (today’s) OBI registry data Turbo drive. function take arguments built work Mac PC operating systems. read_crosswalk() reads current crosswalk file Turbo cleans column names. function take arguments.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/index.html","id":"creating-obi-cohort","dir":"","previous_headings":"Functions","what":"Creating OBI cohort","title":"OBI Internal Tool Package","text":"create_obi_cohort() limits OBI nightly export dataset locked, complete cases delivery date 2019. Note case_lock_dt programmed match AMx workstation represents LAST DAY case can edited hospital; case LOCKS midnight night. Therefore, cases considered locked case_lock_dt < today(). create_90_day_lock_dt() doesn’t take arguments provides date cases pulled given day lock. Can used create_obi_cohort().","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/index.html","id":"obi-measure-specs","dir":"","previous_headings":"Functions","what":"OBI measure specs","title":"OBI Internal Tool Package","text":"create_*_cohort() family functions limits dataset denominator criteria based measure interest (Cat II, IA) calculate_*_comp() family functions calculates compliance OBI measures (usually P4P scorecard measures) Cat II, IA, TeamBirth, Labor Dystocia. dystocia compliance, individual types can added using include_types == T.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/index.html","id":"plotting","dir":"","previous_headings":"Functions","what":"Plotting","title":"OBI Internal Tool Package","text":"create_ctrl_df() creates data frame containing numerator, denominator, rate, CL (center line) UCL (upper control limit) LCL (lower control limit) variable interest (ex. Cesarean). dataset limited complete cases; additional date constraints must added manually. use function plot_ctrl_hchart(), set for_highchart == T. function used called structure_data(). plot_ctrl_chart() takes data frame constructed structure_data() plots using ggplot2. Plot title, axis titles, caption must added manually. plot_ctrl_hchart() identical plot_ctrl_chart() function, except formats everything used highchart rather ggplot2 package. create_caterpillar_df() structures data caterpillar (ranking) plots; row data frame site name default data frame includes numerator, denominator, rate, (0-1 bounded) 95% CI. plot_caterpillar_chart() plots caterpillar chart, presumably using dataframe created create_caterpillar_df(). Plot title, axis titles, caption must added manually. theme_obi() ggplot2 theme standardizes formatting plots semi-annual meetings, presentations, . uses theme_minimal() base additionally centers plot title subtitle, left-justifies plot caption, standardizes text sizes across plot, makes text OBI’s dark blue. OBI plots use theme.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/index.html","id":"other-data-processing","dir":"","previous_headings":"Functions","what":"Other data processing","title":"OBI Internal Tool Package","text":"sort_muti_selection_var() takes variable name sort multiple selection values. example sort {10,5,3,4} {3,4,5,10}. use ?sort_muti_selection_var see examples run. add_CI_values: function creates upper lower CI observed rate. Two new variables (LC UC) added. use ?add_CI_values see examples run.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/index.html","id":"example-workflow---reading-in-data-structuring-data-and-plotting-control-chart-in-ggplot","dir":"","previous_headings":"","what":"Example workflow - reading in data, structuring data, and plotting control chart in ggplot","title":"OBI Internal Tool Package","text":"","code":"library(obstinit) library(tidyverse)  obi = read_current_data()  obi_cohort = obi %>%    create_obi_cohort()  ctrl_cohort = obi_cohort %>%    create_ctrl_df(infant_dob_dt,                  overall_dystocia_compliance_num,                   overall_dystocia_den_all,                   date_gran = \"quarter\",                  increase_is_bad = F)  ctrl_chart = ctrl_cohort %>%    plot_ctrl_chart()"},{"path":"https://obianalysts-umich.github.io/obstinit/index.html","id":"status-updates","dir":"","previous_headings":"","what":"Status updates","title":"OBI Internal Tool Package","text":"12/6/2023 - obstinit fully functional considered finalized format. New functions added needed. Package maintenance phase status updates longer posted unless major changes made. 9/19/2023 - added read_current_data 8/7/2023 - added calculate_dys_comp() 5/23/2023 - create_90_day_lock_dt() create_obi_cohort() live 5/19/2023 - plot_ctrl_hchart() live 5/10/2023 - color legend fix added plot_ctrl_chart 4/5/2023 - Added color gradient new OBI colors plot_ctrl_chart(). Note still debugging needs done, primarily regards color legend often incorrect. 3/29/2023 - plot_ctrl_chart() function usable. 3/28/2023 - structure_data() function usable. 3/23/2023 - construction","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/add_CI_values.html","id":null,"dir":"Reference","previous_headings":"","what":"confidence interval for a rate — add_CI_values","title":"confidence interval for a rate — add_CI_values","text":"function create upper lower CI observed rate. Two new variables added LC UC formula based 95% CI: rate+/- 1.96 x sqrt((!!var x (1-!!var))/!!n_cases)","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/add_CI_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"confidence interval for a rate — add_CI_values","text":"","code":"add_CI_values(data, var, n_cases)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/add_CI_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"confidence interval for a rate — add_CI_values","text":"var variable want sort n_cases number cases used calculate CI","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/add_CI_values.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"confidence interval for a rate — add_CI_values","text":"","code":"tb = tibble::tibble(cs_rate = c(0.1, 0.3),                     n_pt_cases = c(140, 234)) tb %>%   add_CI_values(var = cs_rate,                n_cases = n_pt_cases) #> Error in tb %>% add_CI_values(var = cs_rate, n_cases = n_pt_cases): could not find function \"%>%\""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/add_benchmark.html","id":null,"dir":"Reference","previous_headings":"","what":"Add benchmark to plot — add_benchmark","title":"Add benchmark to plot — add_benchmark","text":"function adds benchmark line (optional label) ggplot object","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/add_benchmark.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add benchmark to plot — add_benchmark","text":"","code":"add_benchmark(   plot,   y_int,   plot_linetype = \"dashed\",   plot_linecolor = OBI.color::prim_pink(),   plot_linewidth = 0.8,   add_label = F,   label_text = NA,   label_size = 5,   label_xval = NA,   label_yval = NA )"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/add_benchmark.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add benchmark to plot — add_benchmark","text":"plot ggplot object y_int Yintercept geom_hline plot_linetype Type line benchmark; default \"dashed\" plot_linecolor Color line benchmark (benchmark label, included); default OBI.color::prim_pink() plot_linewidth Width line benchmark; default \"0.8 add_label Whether benchmark labelled; default FALSE label_text Text benchmark label label_size Size label text; default 5 label_xval x position benchmark label label_yval y position benchmark label","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_IA_comp.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate IA compliance — calculate_IA_comp","title":"Calculate IA compliance — calculate_IA_comp","text":"Calculate IA compliance","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_IA_comp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate IA compliance — calculate_IA_comp","text":"","code":"calculate_IA_comp(df)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_IA_comp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate IA compliance — calculate_IA_comp","text":"df Data frame -- ideally, run obstinit::create_IA_cohort first","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_TB_comp.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate TeamBirth compliance — calculate_TB_comp","title":"Calculate TeamBirth compliance — calculate_TB_comp","text":"Calculate TeamBirth compliance","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_TB_comp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate TeamBirth compliance — calculate_TB_comp","text":"","code":"calculate_TB_comp(df)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_TB_comp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate TeamBirth compliance — calculate_TB_comp","text":"df Data frame -- usually data frame read R using data.table::fread","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_cat_II_comp.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate cat II compliance — calculate_cat_II_comp","title":"Calculate cat II compliance — calculate_cat_II_comp","text":"Calculate cat II compliance","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_cat_II_comp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate cat II compliance — calculate_cat_II_comp","text":"","code":"calculate_cat_II_comp(df)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_cat_II_comp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate cat II compliance — calculate_cat_II_comp","text":"df Data frame -- ideally, run obstinit::create_cat_II_cohort first","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_dys_comp.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate dystocia compliance — calculate_dys_comp","title":"Calculate dystocia compliance — calculate_dys_comp","text":"calculate dystocia compliance, overall type","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_dys_comp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate dystocia compliance — calculate_dys_comp","text":"","code":"calculate_dys_comp(df, include_types = F)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/calculate_dys_comp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate dystocia compliance — calculate_dys_comp","text":"df data frame, preferably one already run obstint::create_obi_cohort() include_types TRUE, calculates compliance individual types dystocia","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_90_day_lock_dt.html","id":null,"dir":"Reference","previous_headings":"","what":"Create OBI case lock dates — create_90_day_lock_dt","title":"Create OBI case lock dates — create_90_day_lock_dt","text":"Create OBI case lock dates","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_90_day_lock_dt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create OBI case lock dates — create_90_day_lock_dt","text":"","code":"create_90_day_lock_dt()"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_90_day_lock_dt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create OBI case lock dates — create_90_day_lock_dt","text":"df Data frame -- usually data frame read R using data.table::fread","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_IA_cohort.html","id":null,"dir":"Reference","previous_headings":"","what":"Create IA cohort — create_IA_cohort","title":"Create IA cohort — create_IA_cohort","text":"Create IA cohort","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_IA_cohort.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create IA cohort — create_IA_cohort","text":"","code":"create_IA_cohort(df, limit_to_IA_sites = F)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_IA_cohort.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create IA cohort — create_IA_cohort","text":"df Data frame -- usually data frame read R using data.table::fread limit_to_IA_sites Whether cohort limited 2023 IA sites; default false","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_cat_II_cohort.html","id":null,"dir":"Reference","previous_headings":"","what":"Create cat II cohort — create_cat_II_cohort","title":"Create cat II cohort — create_cat_II_cohort","text":"Create cat II cohort","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_cat_II_cohort.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create cat II cohort — create_cat_II_cohort","text":"","code":"create_cat_II_cohort(df, limit_to_catII_sites = F)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_cat_II_cohort.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create cat II cohort — create_cat_II_cohort","text":"df Data frame -- usually data frame read R using data.table::fread limit_to_catII_sites Whether limit cohort 2023 Cat II sites - set false default","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_caterpillar_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a data frame for caterpillar plots — create_caterpillar_df","title":"Create a data frame for caterpillar plots — create_caterpillar_df","text":"function creates data frame used caterpillar plots row site name. df includes numerator, denominator, rate variable interest, well 95% CI (bounded 0 1) rate.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_caterpillar_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a data frame for caterpillar plots — create_caterpillar_df","text":"","code":"create_caterpillar_df(df, num_var, denom_var, group_var = site_name)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_caterpillar_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a data frame for caterpillar plots — create_caterpillar_df","text":"df Data frame -- usually obi_cohort num_var Numerator variable denom_var Denominator variable group_var Grouping variable; default, site_name","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_ctrl_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Structure OBI data for plotting control charts — create_ctrl_df","title":"Structure OBI data for plotting control charts — create_ctrl_df","text":"function takes data frame row per observation like OBI data. summarize numerator denominator rate interest. function also use control chart principles calculate CIs flag alerts.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_ctrl_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Structure OBI data for plotting control charts — create_ctrl_df","text":"","code":"create_ctrl_df(   df,   date_var,   num_var,   den_var,   date_gran = \"month\",   nsigmas = 3,   long = F,   increase_is_bad = TRUE,   for_highchart = FALSE )"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_ctrl_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Structure OBI data for plotting control charts — create_ctrl_df","text":"df data frame, example OBI export data date_var date variable used grouping; usually infant_dob_dt; Make use variable date format, example: lubridate::dmy_hms(infant_dob_dt) num_var variable summarized numerator - binary 0 1 den_var variable summarized denominator - binary 0 1 date_gran \"month\" \"quarter\"; granularity dates want use control chart; default \"month\". nsigmas numeric value specifying number sigmas use computing control limits. default 3. long Whether pivot data long format - default TRUE data structure needed ggplot2 increase_is_bad TRUE, trend ideally decreasing time; FALSE, ideally increasing. default TRUE. for_highchart TRUE, multiplies rates 100 highchart; default FALSE.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_ctrl_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Structure OBI data for plotting control charts — create_ctrl_df","text":"tibble aggridated numerator denominator input date variable","code":""},{"path":[]},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_dystocia_cohort.html","id":null,"dir":"Reference","previous_headings":"","what":"Create dystocia cohort — create_dystocia_cohort","title":"Create dystocia cohort — create_dystocia_cohort","text":"create dystocia compliance cohort","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_dystocia_cohort.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create dystocia cohort — create_dystocia_cohort","text":"","code":"create_dystocia_cohort(df)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_dystocia_cohort.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create dystocia cohort — create_dystocia_cohort","text":"df data frame, preferably one already run obstint::create_obi_cohort()","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_obi_cohort.html","id":null,"dir":"Reference","previous_headings":"","what":"Create OBI cohort of locked, complete cases for most analyses — create_obi_cohort","title":"Create OBI cohort of locked, complete cases for most analyses — create_obi_cohort","text":"function include case ≥2020-01-01 based infant date birth include case case complete using flg_complete create case_locked varaible using 90 days lock filter complete locked cases(limit_to_locked = TRUE) create mdhhs_id character variable leading 0's","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_obi_cohort.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create OBI cohort of locked, complete cases for most analyses — create_obi_cohort","text":"","code":"create_obi_cohort(df, limit_to_locked = T)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_obi_cohort.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create OBI cohort of locked, complete cases for most analyses — create_obi_cohort","text":"df Data frame -- usually data frame read R using data.table::fread limit_to_locked Logical -- TRUE, return cases locked","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_pv_response_dt.html","id":null,"dir":"Reference","previous_headings":"","what":"create patient voice response data — create_pv_response_dt","title":"create patient voice response data — create_pv_response_dt","text":"combine patient contact log survey response data cohort: pts received pro survey emails added var: pro_response: pts completed pro survey (opt pts also consider complete) pts choose opt : survey_informed_consent_b_0 ==0","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_pv_response_dt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"create patient voice response data — create_pv_response_dt","text":"","code":"create_pv_response_dt(obi_dt, pro_survey_expired = FALSE)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_pv_response_dt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"create patient voice response data — create_pv_response_dt","text":"obi_dt OBI nightly export data pro_survey_expired logical, TRUE, include patients 12 weeks postpartum","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_pv_response_dt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"create patient voice response data — create_pv_response_dt","text":"data frame variables: patientid, site_name, infant_dob_dt, complete_pro_survey_flg, survey_informed_consent_b_0","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_pv_response_dt.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"create patient voice response data — create_pv_response_dt","text":"function read pro survey data survey response: P:/OBI_abstracted_data/Current_Data/data/input/pro_6_week_postpartum.csv contact log pts received emails: P:/OBI_abstracted_data/Current_Data/data/input/contactlog.csv","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/create_pv_response_dt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"create patient voice response data — create_pv_response_dt","text":"","code":"obi_dt <- read_current_data() |>    create_obi_cohort(limit_to_locked = FALSE)  #> Error in df %>% mutate(infant_dob_dt = lubridate::dmy_hms(infant_dob_dt),     case_lock_dt = lubridate::date(infant_dob_dt) + days(90),     case_locked = ifelse(case_lock_dt < lubridate::today(), 1,         0), across(c(starts_with(\"opioid_e\"), starts_with(\"opioid_dose\"),         starts_with(\"opioid_quantity_no\"), starts_with(\"opioid_unit\")),         ~ifelse(discharge_opioid_e == 1, .x, NA)), mdhhs_id = case_when(external_mdhhs_site_id ==         4001 ~ \"04001\", external_mdhhs_site_id == 8001 ~ \"08001\",         external_mdhhs_site_id == 9005 ~ \"09005\", TRUE ~ as.character(external_mdhhs_site_id))): could not find function \"%>%\" create_pv_response_dt(obi_dt)  #> Error in data.table::fread(\"/Volumes/nur-kanelow/OBI_abstracted_data/Current_Data/data/input/pro_6_week_postpartum.csv\"): File '/Volumes/nur-kanelow/OBI_abstracted_data/Current_Data/data/input/pro_6_week_postpartum.csv' does not exist or is non-readable. getwd()=='/Users/xilinchen/Documents/repos/obstinit/docs/reference'"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/plot_caterpillar_chart.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot caterpillar chart — plot_caterpillar_chart","title":"Plot caterpillar chart — plot_caterpillar_chart","text":"function plots caterpillar chart using dataframe created create_caterpillar_df()","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/plot_caterpillar_chart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot caterpillar chart — plot_caterpillar_chart","text":"","code":"plot_caterpillar_chart(   df,   y_var = rate,   x_var = site_name,   point_shape = \"diamond\",   point_size = 2,   bar_width = 3,   dt_color = OBI.color::prim_dark_blue() )"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/plot_caterpillar_chart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot caterpillar chart — plot_caterpillar_chart","text":"df Data frame created create_caterpillar_df() y_var Variable placed y axis - default rate, rate variable created create_caterpillar_df() x_var Variable placed x axis - default site_name point_shape Shape points - default \"diamond\" point_size Size points - default 2 bar_width Width error bars - default 3 dt_color Color data points errorbars - default OBI.color::prim_dark_blue()","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/plot_ctrl_chart.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot control chart — plot_ctrl_chart","title":"Plot control chart — plot_ctrl_chart","text":"Plot control chart","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/plot_ctrl_chart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot control chart — plot_ctrl_chart","text":"","code":"plot_ctrl_chart(df, plot_center_line = T)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/plot_ctrl_chart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot control chart — plot_ctrl_chart","text":"df data frame wide format, created structure_data function plot_center_line TRUE, center line added plot","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/plot_ctrl_hchart.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot interactive ctrl chart using highcharter package — plot_ctrl_hchart","title":"Plot interactive ctrl chart using highcharter package — plot_ctrl_hchart","text":"Plot interactive ctrl chart using highcharter package","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/plot_ctrl_hchart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot interactive ctrl chart using highcharter package — plot_ctrl_hchart","text":"","code":"plot_ctrl_hchart(df, title, ymin = NA, ymax = NA)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/plot_ctrl_hchart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot interactive ctrl chart using highcharter package — plot_ctrl_hchart","text":"df data frame - structure obstinit::structure_data title Title plot","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/read_crosswalk.html","id":null,"dir":"Reference","previous_headings":"","what":"Read in OBI crosswalk — read_crosswalk","title":"Read in OBI crosswalk — read_crosswalk","text":"function reads current OBI crosswalk file. file contains information hospital variables like teaching status, well group 1 status color.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/read_crosswalk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read in OBI crosswalk — read_crosswalk","text":"","code":"read_crosswalk()"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/read_current_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Read current OBI data — read_current_data","title":"Read current OBI data — read_current_data","text":"read OBI analytic data Turbo","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/read_current_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read current OBI data — read_current_data","text":"","code":"read_current_data()"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/send_email.html","id":null,"dir":"Reference","previous_headings":"","what":"send emails from R — send_email","title":"send emails from R — send_email","text":"send save draft emails R","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/send_email.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"send emails from R — send_email","text":"","code":"send_email(   email_message = \"<p> This is an automatic message. <\/p> <p> OBI analytics team <\/p> \",   email_to = \"obianalysts@umich.edu\",   email_subject = \"test\",   cc = NULL,   save_or_send = \"save\" )"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/send_email.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"send emails from R — send_email","text":"email_message email body; use html code breaks hyperlinks email_to email address list email addresses separated \";\" email_subject text cc email address list email addresses separated \";\" save_or_send default \"save\", can \"save\" \"send\"","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/send_email.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"send emails from R — send_email","text":"message console","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/send_email.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"send emails from R — send_email","text":"","code":"send_email(email_message = \"<p> This is an automatic message. <\/p> <p> OBI analytics team <\/p>\") #> ℹ This function was only tested using outlook app #> Error in send_email(email_message = \"<p> This is an automatic message. <\/p> <p> OBI analytics team <\/p>\"): this function only works on Windows, see package RDCOMClient #> requirement."},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sites_w_all_years_dt.html","id":null,"dir":"Reference","previous_headings":"","what":"Limit dataset to hospitals that have data for all years 2020 - max year of your choice — sites_w_all_years_dt","title":"Limit dataset to hospitals that have data for all years 2020 - max year of your choice — sites_w_all_years_dt","text":"Limit dataset hospitals data years 2020 - max year choice","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sites_w_all_years_dt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Limit dataset to hospitals that have data for all years 2020 - max year of your choice — sites_w_all_years_dt","text":"","code":"sites_w_all_years_dt(df, max_year)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sites_w_all_years_dt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Limit dataset to hospitals that have data for all years 2020 - max year of your choice — sites_w_all_years_dt","text":"df Data frame -- usually OBI's current, processed data read R using data.table::fread. Preferably already run obstinit::create_obi_cohort()","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sort_muti_selection.html","id":null,"dir":"Reference","previous_headings":"","what":"sort multiple selected varible as list — sort_muti_selection","title":"sort multiple selected varible as list — sort_muti_selection","text":"multiple selected varibales different values based order example, 1|2 euqal 2|1. function short numbers","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sort_muti_selection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"sort multiple selected varible as list — sort_muti_selection","text":"","code":"sort_muti_selection(var)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sort_muti_selection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"sort multiple selected varible as list — sort_muti_selection","text":"var variable want sort","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sort_muti_selection.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"sort multiple selected varible as list — sort_muti_selection","text":"","code":"val = \"8,1,0,3\" sort_muti_selection(val) #> Error in sort_muti_selection(val): could not find function \"sort_muti_selection\""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sort_muti_selection_var.html","id":null,"dir":"Reference","previous_headings":"","what":"sort multiple selected variable in dataset — sort_muti_selection_var","title":"sort multiple selected variable in dataset — sort_muti_selection_var","text":"multiple selected varibales different values based order example, 1|2 euqal 2|1. function short numbers","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sort_muti_selection_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"sort multiple selected variable in dataset — sort_muti_selection_var","text":"","code":"sort_muti_selection_var(var)"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sort_muti_selection_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"sort multiple selected variable in dataset — sort_muti_selection_var","text":"var variable want sort","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/sort_muti_selection_var.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"sort multiple selected variable in dataset — sort_muti_selection_var","text":"","code":"df <- tibble(col = c(\"{1|2}\", \"{2|1}\", \"{3|2|1}\", \"{2|3|1}\", \"{2|1|3}\")) #> Error in tibble(col = c(\"{1|2}\", \"{2|1}\", \"{3|2|1}\", \"{2|3|1}\", \"{2|1|3}\")): could not find function \"tibble\" df %>% mutate(new = sort_muti_selection_var(col)) #> Error in df %>% mutate(new = sort_muti_selection_var(col)): could not find function \"%>%\""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/structure_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Structure OBI data for plotting control charts — structure_data","title":"Structure OBI data for plotting control charts — structure_data","text":"function takes data frame row per observation like OBI data. summarize numerator denominator rate interest. function also use control chart principles calculate CIs flag alerts.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/structure_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Structure OBI data for plotting control charts — structure_data","text":"","code":"structure_data(   df,   date_var,   num_var,   den_var,   date_gran = \"month\",   nsigmas = 3,   long = F,   increase_is_bad = TRUE,   for_highchart = FALSE )"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/structure_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Structure OBI data for plotting control charts — structure_data","text":"df data frame, example OBI export data date_var date variable used grouping; usually infant_dob_dt; Make use variable date format, example: lubridate::dmy_hms(infant_dob_dt) num_var variable summarized numerator - binary 0 1 den_var variable summarized denominator - binary 0 1 date_gran \"month\" \"quarter\"; granularity dates want use control chart; default \"month\". nsigmas numeric value specifying number sigmas use computing control limits. default 3. long Whether pivot data long format - default TRUE data structure needed ggplot2 increase_is_bad TRUE, trend ideally decreasing time; FALSE, ideally increasing. default TRUE. for_highchart TRUE, multiplies rates 100 highchart; default FALSE.","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/structure_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Structure OBI data for plotting control charts — structure_data","text":"tibble aggridated numerator denominator input date variable","code":""},{"path":[]},{"path":"https://obianalysts-umich.github.io/obstinit/reference/theme_obi.html","id":null,"dir":"Reference","previous_headings":"","what":"Add OBI ggplot theme — theme_obi","title":"Add OBI ggplot theme — theme_obi","text":"Add OBI ggplot theme","code":""},{"path":"https://obianalysts-umich.github.io/obstinit/reference/theme_obi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add OBI ggplot theme — theme_obi","text":"","code":"theme_obi(   x_axis_title_size = 12,   x_axis_text_size = 10,   y_axis_title_size = 12,   y_axis_text_size = 10,   title_size = 16,   title_hjust = 0.5,   subtitle_size = 12,   subtitle_hjust = 0.5,   caption_size = 12,   caption_hjust = 0,   legend_title_size = 12,   legend_text_size = 11 )"},{"path":"https://obianalysts-umich.github.io/obstinit/reference/theme_obi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add OBI ggplot theme — theme_obi","text":"x_axis_title_size Size x axis title. Default 12. x_axis_text_size Size x axis text. Default 10. y_axis_title_size Size y axis title. Default 12. y_axis_text_size Size y axis text. Default 10. title_size Size title text. Default 16. title_hjust Position title text. Default 0.5 centered, change 0 left-justified. subtitle_size Size subtitle text. Default 12. subtitle_hjust Position subtitle text. Default 0.5 centered, change 0 left-justified. caption_size Size caption text. Default 12. caption_hjust Position caption. Default 0 left-justified, change 0.5 centered. legend_title_size Size legend title text. Default 12. legend_text_size Size legend text. Default 11.","code":""}]
